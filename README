# Things to do inorder to run the program

pip install --upgrade firebase-admin


# Searching through arrays uses:
    - array_contains (singular)
    - array_contains_any (multiples)

# Number and String comparisons
    - == , >=, <=, >, <, !=

import firebase_admin
from firebase_admin import credentials, firestore

# Initialize Firebase
cred = credentials.Certificate("path/to/serviceAccountKey.json")
firebase_admin.initialize_app(cred)
db = firestore.client()

def case_insensitive_query(collection_name, field_name, query_term):
    # Convert query term to lowercase
    query_term_lower = query_term.lower()
    # Query Firebase
    docs = db.collection(collection_name).where(field_name, '>=', query_term_lower).get()
    results = []
    for doc in docs:
        # Convert data from Firebase to lowercase for comparison
        data = doc.to_dict()
        if data[field_name].lower() == query_term_lower:
            results.append(data)
    return results

# Example usage
collection_name = "your_collection"
field_name = "your_field"
query_term = "Your_Query_Term"
results = case_insensitive_query(collection_name, field_name, query_term)
print(results)
